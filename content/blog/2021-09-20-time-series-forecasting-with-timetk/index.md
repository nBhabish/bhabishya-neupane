---
title: Time Series Forecasting with timetk
author: Bhabishya Neupane
date: '2021-09-20'
slug: []
excerpt: Understanding relationship between revenue and web traffic using `timetk`
categories: []
tags:
  - timetk
  - lubridate
  - tidyverse
output:
  html_document:
    df_print: paged
---

<script src="{{< blogdown/postref >}}index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index_files/plotly-binding/plotly.js"></script>
<script src="{{< blogdown/postref >}}index_files/typedarray/typedarray.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/jquery/jquery.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/crosstalk/js/crosstalk.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/plotly-main/plotly-latest.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index_files/plotly-binding/plotly.js"></script>
<script src="{{< blogdown/postref >}}index_files/typedarray/typedarray.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/jquery/jquery.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/crosstalk/js/crosstalk.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/plotly-main/plotly-latest.min.js"></script>

## Loading Libraries

``` r
pacman::p_load(tidyverse,
               timetk,
               lubridate, 
               DataExplorer,
               kableExtra)
```

## Reading in the data

``` r
transactions_weekly_tbl <- read_rds("data/transactions_weekly.rds")

transactions_weekly_tbl %>% 
  glimpse()
```

    ## Rows: 91
    ## Columns: 2
    ## $ purchased_at <date> 2018-06-03, 2018-06-10, 2018-06-17, 2018-06-24, 2018-07-…
    ## $ revenue      <dbl> 32735.89, 38290.07, 39973.95, 35621.93, 28983.72, 47251.1…

``` r
google_analytics_by_page_tbl <- read_rds("data/google_analytics_by_page_daily.rds") 

google_analytics_by_page_tbl %>% 
  glimpse()
```

    ## Rows: 4,685
    ## Columns: 6
    ## $ date            <date> 2019-05-08, 2019-05-08, 2019-05-08, 2019-05-08, 2019-…
    ## $ pagePath        <chr> "/", "/business/2016/08/07/CustomerSegmentationPt1.htm…
    ## $ pageViews       <dbl> 246, 38, 38, 44, 28, 36, 20, 12, 8, 71, 10, 88, 79, 52…
    ## $ organicSearches <dbl> 29, 27, 28, 30, 14, 28, 15, 1, 1, 5, 0, 2, 56, 30, 22,…
    ## $ sessions        <dbl> 125, 32, 35, 36, 22, 31, 16, 6, 5, 28, 10, 73, 63, 43,…
    ## $ rank            <int> 1, 11, 8, 12, 9, 13, 10, 19, 14, 6, 15, 4, 3, 5, 1, 11…

## Visualizing the Time Series

``` r
transactions_weekly_tbl %>% 
  plot_time_series(purchased_at, revenue)
```

<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"x":["2018-06-03","2018-06-10","2018-06-17","2018-06-24","2018-07-01","2018-07-08","2018-07-15","2018-07-22","2018-07-29","2018-08-05","2018-08-12","2018-08-19","2018-08-26","2018-09-02","2018-09-09","2018-09-16","2018-09-23","2018-09-30","2018-10-07","2018-10-14","2018-10-21","2018-10-28","2018-11-04","2018-11-11","2018-11-18","2018-11-25","2018-12-02","2018-12-09","2018-12-16","2018-12-23","2018-12-30","2019-01-06","2019-01-13","2019-01-20","2019-01-27","2019-02-03","2019-02-10","2019-02-17","2019-02-24","2019-03-03","2019-03-10","2019-03-17","2019-03-24","2019-03-31","2019-04-07","2019-04-14","2019-04-21","2019-04-28","2019-05-05","2019-05-12","2019-05-19","2019-05-26","2019-06-02","2019-06-09","2019-06-16","2019-06-23","2019-06-30","2019-07-07","2019-07-14","2019-07-21","2019-07-28","2019-08-04","2019-08-11","2019-08-18","2019-08-25","2019-09-01","2019-09-08","2019-09-15","2019-09-22","2019-09-29","2019-10-06","2019-10-13","2019-10-20","2019-10-27","2019-11-03","2019-11-10","2019-11-17","2019-11-24","2019-12-01","2019-12-08","2019-12-15","2019-12-22","2019-12-29","2020-01-05","2020-01-12","2020-01-19","2020-01-26","2020-02-02","2020-02-09","2020-02-16","2020-02-23"],"y":[32735.8859017166,38290.068733839,39973.9520235865,35621.9308712402,28983.7213920283,47251.1924568138,31511.688671802,50985.6061066683,41182.8467881272,36597.6160634821,39973.9520235865,49744.8822141498,56173.1418684313,23049.4253200174,44325.9731759329,29467.2792978446,51679.1138374149,28126.7833310881,44325.9731759329,70327.9223393187,42975.0715327222,53755.35233935,57887.0179903117,98616.0598295701,95272.7771946733,39352.6719294049,38275.3783670801,29329.5571094792,42243.6136878482,35370.9704391077,202924.396903057,109821.749173593,139302.62202495,46827.6202152634,53855.736512203,40022.9199127831,65066.6899043148,39128.6438363305,84212.155222395,74825.01086341,85838.2564028906,50571.8274429571,75410.7892379241,56995.190308319,93301.8196545108,70171.2250938897,52474.2299382444,103599.154653937,51693.8042041738,95690.8405486892,47987.5470906074,192188.187196706,185327.785920265,302482.236625861,76784.9506285032,171548.221900347,92061.7078606074,115054.212973694,104557.088986346,122253.472043376,54171.579397521,101965.096191447,101017.934794662,151331.216746922,87855.3661786208,106376.858168614,91191.5484695841,99316.9127436962,108046.051091602,137089.518272711,65676.2177050893,93918.8150583878,300191.763608691,466748.081428875,212297.707833344,147400.931540281,133930.477320916,276212.188269124,290035.82338932,78009.7599570328,140186.737264395,186901.49145932,117567.857145878,149485.127324211,137804.449454981,139507.919900407,195697.960654872,138660.775417306,86381.4327138037,152297.108361325,197337.772844342],"text":["purchased_at: 2018-06-03<br />.value:  32735.89","purchased_at: 2018-06-10<br />.value:  38290.07","purchased_at: 2018-06-17<br />.value:  39973.95","purchased_at: 2018-06-24<br />.value:  35621.93","purchased_at: 2018-07-01<br />.value:  28983.72","purchased_at: 2018-07-08<br />.value:  47251.19","purchased_at: 2018-07-15<br />.value:  31511.69","purchased_at: 2018-07-22<br />.value:  50985.61","purchased_at: 2018-07-29<br />.value:  41182.85","purchased_at: 2018-08-05<br />.value:  36597.62","purchased_at: 2018-08-12<br />.value:  39973.95","purchased_at: 2018-08-19<br />.value:  49744.88","purchased_at: 2018-08-26<br />.value:  56173.14","purchased_at: 2018-09-02<br />.value:  23049.43","purchased_at: 2018-09-09<br />.value:  44325.97","purchased_at: 2018-09-16<br />.value:  29467.28","purchased_at: 2018-09-23<br />.value:  51679.11","purchased_at: 2018-09-30<br />.value:  28126.78","purchased_at: 2018-10-07<br />.value:  44325.97","purchased_at: 2018-10-14<br />.value:  70327.92","purchased_at: 2018-10-21<br />.value:  42975.07","purchased_at: 2018-10-28<br />.value:  53755.35","purchased_at: 2018-11-04<br />.value:  57887.02","purchased_at: 2018-11-11<br />.value:  98616.06","purchased_at: 2018-11-18<br />.value:  95272.78","purchased_at: 2018-11-25<br />.value:  39352.67","purchased_at: 2018-12-02<br />.value:  38275.38","purchased_at: 2018-12-09<br />.value:  29329.56","purchased_at: 2018-12-16<br />.value:  42243.61","purchased_at: 2018-12-23<br />.value:  35370.97","purchased_at: 2018-12-30<br />.value: 202924.40","purchased_at: 2019-01-06<br />.value: 109821.75","purchased_at: 2019-01-13<br />.value: 139302.62","purchased_at: 2019-01-20<br />.value:  46827.62","purchased_at: 2019-01-27<br />.value:  53855.74","purchased_at: 2019-02-03<br />.value:  40022.92","purchased_at: 2019-02-10<br />.value:  65066.69","purchased_at: 2019-02-17<br />.value:  39128.64","purchased_at: 2019-02-24<br />.value:  84212.16","purchased_at: 2019-03-03<br />.value:  74825.01","purchased_at: 2019-03-10<br />.value:  85838.26","purchased_at: 2019-03-17<br />.value:  50571.83","purchased_at: 2019-03-24<br />.value:  75410.79","purchased_at: 2019-03-31<br />.value:  56995.19","purchased_at: 2019-04-07<br />.value:  93301.82","purchased_at: 2019-04-14<br />.value:  70171.23","purchased_at: 2019-04-21<br />.value:  52474.23","purchased_at: 2019-04-28<br />.value: 103599.15","purchased_at: 2019-05-05<br />.value:  51693.80","purchased_at: 2019-05-12<br />.value:  95690.84","purchased_at: 2019-05-19<br />.value:  47987.55","purchased_at: 2019-05-26<br />.value: 192188.19","purchased_at: 2019-06-02<br />.value: 185327.79","purchased_at: 2019-06-09<br />.value: 302482.24","purchased_at: 2019-06-16<br />.value:  76784.95","purchased_at: 2019-06-23<br />.value: 171548.22","purchased_at: 2019-06-30<br />.value:  92061.71","purchased_at: 2019-07-07<br />.value: 115054.21","purchased_at: 2019-07-14<br />.value: 104557.09","purchased_at: 2019-07-21<br />.value: 122253.47","purchased_at: 2019-07-28<br />.value:  54171.58","purchased_at: 2019-08-04<br />.value: 101965.10","purchased_at: 2019-08-11<br />.value: 101017.93","purchased_at: 2019-08-18<br />.value: 151331.22","purchased_at: 2019-08-25<br />.value:  87855.37","purchased_at: 2019-09-01<br />.value: 106376.86","purchased_at: 2019-09-08<br />.value:  91191.55","purchased_at: 2019-09-15<br />.value:  99316.91","purchased_at: 2019-09-22<br />.value: 108046.05","purchased_at: 2019-09-29<br />.value: 137089.52","purchased_at: 2019-10-06<br />.value:  65676.22","purchased_at: 2019-10-13<br />.value:  93918.82","purchased_at: 2019-10-20<br />.value: 300191.76","purchased_at: 2019-10-27<br />.value: 466748.08","purchased_at: 2019-11-03<br />.value: 212297.71","purchased_at: 2019-11-10<br />.value: 147400.93","purchased_at: 2019-11-17<br />.value: 133930.48","purchased_at: 2019-11-24<br />.value: 276212.19","purchased_at: 2019-12-01<br />.value: 290035.82","purchased_at: 2019-12-08<br />.value:  78009.76","purchased_at: 2019-12-15<br />.value: 140186.74","purchased_at: 2019-12-22<br />.value: 186901.49","purchased_at: 2019-12-29<br />.value: 117567.86","purchased_at: 2020-01-05<br />.value: 149485.13","purchased_at: 2020-01-12<br />.value: 137804.45","purchased_at: 2020-01-19<br />.value: 139507.92","purchased_at: 2020-01-26<br />.value: 195697.96","purchased_at: 2020-02-02<br />.value: 138660.78","purchased_at: 2020-02-09<br />.value:  86381.43","purchased_at: 2020-02-16<br />.value: 152297.11","purchased_at: 2020-02-23<br />.value: 197337.77"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":["2018-06-03","2018-06-10","2018-06-17","2018-06-24","2018-07-01","2018-07-08","2018-07-15","2018-07-22","2018-07-29","2018-08-05","2018-08-12","2018-08-19","2018-08-26","2018-09-02","2018-09-09","2018-09-16","2018-09-23","2018-09-30","2018-10-07","2018-10-14","2018-10-21","2018-10-28","2018-11-04","2018-11-11","2018-11-18","2018-11-25","2018-12-02","2018-12-09","2018-12-16","2018-12-23","2018-12-30","2019-01-06","2019-01-13","2019-01-20","2019-01-27","2019-02-03","2019-02-10","2019-02-17","2019-02-24","2019-03-03","2019-03-10","2019-03-17","2019-03-24","2019-03-31","2019-04-07","2019-04-14","2019-04-21","2019-04-28","2019-05-05","2019-05-12","2019-05-19","2019-05-26","2019-06-02","2019-06-09","2019-06-16","2019-06-23","2019-06-30","2019-07-07","2019-07-14","2019-07-21","2019-07-28","2019-08-04","2019-08-11","2019-08-18","2019-08-25","2019-09-01","2019-09-08","2019-09-15","2019-09-22","2019-09-29","2019-10-06","2019-10-13","2019-10-20","2019-10-27","2019-11-03","2019-11-10","2019-11-17","2019-11-24","2019-12-01","2019-12-08","2019-12-15","2019-12-22","2019-12-29","2020-01-05","2020-01-12","2020-01-19","2020-01-26","2020-02-02","2020-02-09","2020-02-16","2020-02-23"],"y":[34505.337105047,35185.081585017,35895.9968968535,36636.5061446081,37405.032432332,38199.9988640767,39019.8285438936,39862.944575834,40727.7700639493,41612.728112291,42516.2418249105,43436.734305859,44367.8371963854,45307.3734631945,46260.0531985217,47230.5864946028,48223.6834436733,49244.0541379689,50296.408669725,51385.4571311774,52515.9096145615,53692.4762121131,54919.8670160676,56170.9918989013,57420.7768873424,58676.9563050041,59947.2644754999,61239.4357224432,62561.2043694472,63920.3047401254,65324.471158091,66781.4379469576,68298.9394303383,69884.7099318467,71546.483775096,73299.8847109219,75142.5222846979,77055.1095118444,79018.3594077816,81012.9849879297,83019.699267709,85019.2152625397,86992.2459878422,88919.5044590367,90781.7036915434,92559.5567007826,94318.8216044055,96139.6226902419,98024.2222289801,99974.8824913083,101993.865747915,104083.434269487,106245.850326715,108483.376190285,110798.274130886,113192.806419207,115669.235325935,118229.823121758,120981.685338794,123981.260897699,127154.797151974,130428.541455119,133728.741160635,136981.643622021,140113.496192779,143050.546226407,145719.041076407,148045.228096279,149955.354639523,151602.077099402,153183.04732985,154692.00587537,156122.693280469,157468.85008965,158724.216847418,159882.534098278,160937.542386735,161882.982257293,162712.594254457,163420.118922732,163998.804539493,164448.215007116,164771.564307611,164972.066422985,165052.935335247,165017.385026404,164868.629478466,164609.88267344,164244.358593335,163775.271220158,163205.834535918],"text":["purchased_at: 2018-06-03<br />.value_smooth:  34505.34","purchased_at: 2018-06-10<br />.value_smooth:  35185.08","purchased_at: 2018-06-17<br />.value_smooth:  35896.00","purchased_at: 2018-06-24<br />.value_smooth:  36636.51","purchased_at: 2018-07-01<br />.value_smooth:  37405.03","purchased_at: 2018-07-08<br />.value_smooth:  38200.00","purchased_at: 2018-07-15<br />.value_smooth:  39019.83","purchased_at: 2018-07-22<br />.value_smooth:  39862.94","purchased_at: 2018-07-29<br />.value_smooth:  40727.77","purchased_at: 2018-08-05<br />.value_smooth:  41612.73","purchased_at: 2018-08-12<br />.value_smooth:  42516.24","purchased_at: 2018-08-19<br />.value_smooth:  43436.73","purchased_at: 2018-08-26<br />.value_smooth:  44367.84","purchased_at: 2018-09-02<br />.value_smooth:  45307.37","purchased_at: 2018-09-09<br />.value_smooth:  46260.05","purchased_at: 2018-09-16<br />.value_smooth:  47230.59","purchased_at: 2018-09-23<br />.value_smooth:  48223.68","purchased_at: 2018-09-30<br />.value_smooth:  49244.05","purchased_at: 2018-10-07<br />.value_smooth:  50296.41","purchased_at: 2018-10-14<br />.value_smooth:  51385.46","purchased_at: 2018-10-21<br />.value_smooth:  52515.91","purchased_at: 2018-10-28<br />.value_smooth:  53692.48","purchased_at: 2018-11-04<br />.value_smooth:  54919.87","purchased_at: 2018-11-11<br />.value_smooth:  56170.99","purchased_at: 2018-11-18<br />.value_smooth:  57420.78","purchased_at: 2018-11-25<br />.value_smooth:  58676.96","purchased_at: 2018-12-02<br />.value_smooth:  59947.26","purchased_at: 2018-12-09<br />.value_smooth:  61239.44","purchased_at: 2018-12-16<br />.value_smooth:  62561.20","purchased_at: 2018-12-23<br />.value_smooth:  63920.30","purchased_at: 2018-12-30<br />.value_smooth:  65324.47","purchased_at: 2019-01-06<br />.value_smooth:  66781.44","purchased_at: 2019-01-13<br />.value_smooth:  68298.94","purchased_at: 2019-01-20<br />.value_smooth:  69884.71","purchased_at: 2019-01-27<br />.value_smooth:  71546.48","purchased_at: 2019-02-03<br />.value_smooth:  73299.88","purchased_at: 2019-02-10<br />.value_smooth:  75142.52","purchased_at: 2019-02-17<br />.value_smooth:  77055.11","purchased_at: 2019-02-24<br />.value_smooth:  79018.36","purchased_at: 2019-03-03<br />.value_smooth:  81012.98","purchased_at: 2019-03-10<br />.value_smooth:  83019.70","purchased_at: 2019-03-17<br />.value_smooth:  85019.22","purchased_at: 2019-03-24<br />.value_smooth:  86992.25","purchased_at: 2019-03-31<br />.value_smooth:  88919.50","purchased_at: 2019-04-07<br />.value_smooth:  90781.70","purchased_at: 2019-04-14<br />.value_smooth:  92559.56","purchased_at: 2019-04-21<br />.value_smooth:  94318.82","purchased_at: 2019-04-28<br />.value_smooth:  96139.62","purchased_at: 2019-05-05<br />.value_smooth:  98024.22","purchased_at: 2019-05-12<br />.value_smooth:  99974.88","purchased_at: 2019-05-19<br />.value_smooth: 101993.87","purchased_at: 2019-05-26<br />.value_smooth: 104083.43","purchased_at: 2019-06-02<br />.value_smooth: 106245.85","purchased_at: 2019-06-09<br />.value_smooth: 108483.38","purchased_at: 2019-06-16<br />.value_smooth: 110798.27","purchased_at: 2019-06-23<br />.value_smooth: 113192.81","purchased_at: 2019-06-30<br />.value_smooth: 115669.24","purchased_at: 2019-07-07<br />.value_smooth: 118229.82","purchased_at: 2019-07-14<br />.value_smooth: 120981.69","purchased_at: 2019-07-21<br />.value_smooth: 123981.26","purchased_at: 2019-07-28<br />.value_smooth: 127154.80","purchased_at: 2019-08-04<br />.value_smooth: 130428.54","purchased_at: 2019-08-11<br />.value_smooth: 133728.74","purchased_at: 2019-08-18<br />.value_smooth: 136981.64","purchased_at: 2019-08-25<br />.value_smooth: 140113.50","purchased_at: 2019-09-01<br />.value_smooth: 143050.55","purchased_at: 2019-09-08<br />.value_smooth: 145719.04","purchased_at: 2019-09-15<br />.value_smooth: 148045.23","purchased_at: 2019-09-22<br />.value_smooth: 149955.35","purchased_at: 2019-09-29<br />.value_smooth: 151602.08","purchased_at: 2019-10-06<br />.value_smooth: 153183.05","purchased_at: 2019-10-13<br />.value_smooth: 154692.01","purchased_at: 2019-10-20<br />.value_smooth: 156122.69","purchased_at: 2019-10-27<br />.value_smooth: 157468.85","purchased_at: 2019-11-03<br />.value_smooth: 158724.22","purchased_at: 2019-11-10<br />.value_smooth: 159882.53","purchased_at: 2019-11-17<br />.value_smooth: 160937.54","purchased_at: 2019-11-24<br />.value_smooth: 161882.98","purchased_at: 2019-12-01<br />.value_smooth: 162712.59","purchased_at: 2019-12-08<br />.value_smooth: 163420.12","purchased_at: 2019-12-15<br />.value_smooth: 163998.80","purchased_at: 2019-12-22<br />.value_smooth: 164448.22","purchased_at: 2019-12-29<br />.value_smooth: 164771.56","purchased_at: 2020-01-05<br />.value_smooth: 164972.07","purchased_at: 2020-01-12<br />.value_smooth: 165052.94","purchased_at: 2020-01-19<br />.value_smooth: 165017.39","purchased_at: 2020-01-26<br />.value_smooth: 164868.63","purchased_at: 2020-02-02<br />.value_smooth: 164609.88","purchased_at: 2020-02-09<br />.value_smooth: 164244.36","purchased_at: 2020-02-16<br />.value_smooth: 163775.27","purchased_at: 2020-02-23<br />.value_smooth: 163205.83"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":25.5707762557078,"l":40.1826484018265},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187},"title":{"text":"Time Series Plot","font":{"color":"rgba(44,62,80,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"date","autorange":true,"range":["2018-05-02","2020-03-25"],"tickmode":"auto","ticktext":["2018-07","2019-01","2019-07","2020-01"],"tickvals":[17713,17897,18078,18262],"categoryorder":"array","categoryarray":["2018-07","2019-01","2019-07","2020-01"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[864.492514574486,488933.014234318],"tickmode":"auto","ticktext":["1e+05","2e+05","3e+05","4e+05"],"tickvals":[100000,200000,300000,400000],"categoryorder":"array","categoryarray":["1e+05","2e+05","3e+05","4e+05"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"dcfc71a32d50":{"x":{},"y":{},"type":"scatter"},"dcfcff41979":{"x":{},"y":{}}},"cur_data":"dcfc71a32d50","visdat":{"dcfc71a32d50":["function (y) ","x"],"dcfcff41979":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

**Observations** : The revenue has been increasing slowly over time, and a trend is present.

## Visualizing pages and traffic

``` r
google_analytics_by_page_tbl %>% 
  group_by(pagePath) %>% 
  plot_time_series(date, sessions, .facet_ncol = 4, .interactive = F)
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-4-1.png" width="672" />

**Observations**: There are couple of page paths that don’t seem to generate more session. It might be because how the pages were added very late to the website.

## Aggregating the data to a common frequency

-   We will try to aggregate the google\_analytics\_by\_page\_tbl by week. As of now the frequency of the dataset is daily.

``` r
product_page_sessions_weekly_tbl <- google_analytics_by_page_tbl %>% 
  select(date, pagePath, sessions) %>% 
  group_by(pagePath) %>% 
  summarise_by_time(.date_var = date, .by = "week", sessions = sum(sessions)) %>% 
  pivot_wider(names_from = pagePath, values_from = sessions, names_prefix = "sessions_") %>% 
  select(date, contains("/p/"))

product_page_sessions_weekly_tbl
```

    ## # A tibble: 44 × 6
    ##    date       `sessions_/p/4-course-bun… `sessions_/p/ds4b-1… `sessions_/p/jump…
    ##    <date>                          <dbl>                <dbl>              <dbl>
    ##  1 2019-05-05                         NA                   25                379
    ##  2 2019-05-12                         NA                   39                163
    ##  3 2019-05-19                         NA                   40                 98
    ##  4 2019-05-26                         NA                   84                 69
    ##  5 2019-06-02                         NA                   90                 62
    ##  6 2019-06-09                         NA                   75                 34
    ##  7 2019-06-16                         NA                  149                 36
    ##  8 2019-06-23                         NA                   96                 26
    ##  9 2019-06-30                         NA                   76                 16
    ## 10 2019-07-07                         NA                  108                 20
    ## # … with 34 more rows, and 2 more variables:
    ## #   sessions_/p/jumpstart-with-r/ <dbl>, sessions_/p/learning-labs-pro <dbl>

## Joining the two datasets by date

``` r
transactions_product_page_sessions_weekly_tbl <- transactions_weekly_tbl %>% 
  left_join(product_page_sessions_weekly_tbl, by = c("purchased_at" = "date")) 

transactions_product_page_sessions_weekly_tbl
```

    ## # A tibble: 91 × 7
    ##    purchased_at revenue `sessions_/p/4-cour… `sessions_/p/ds4b… `sessions_/p/ju…
    ##    <date>         <dbl>                <dbl>              <dbl>            <dbl>
    ##  1 2018-06-03    32736.                   NA                 NA               NA
    ##  2 2018-06-10    38290.                   NA                 NA               NA
    ##  3 2018-06-17    39974.                   NA                 NA               NA
    ##  4 2018-06-24    35622.                   NA                 NA               NA
    ##  5 2018-07-01    28984.                   NA                 NA               NA
    ##  6 2018-07-08    47251.                   NA                 NA               NA
    ##  7 2018-07-15    31512.                   NA                 NA               NA
    ##  8 2018-07-22    50986.                   NA                 NA               NA
    ##  9 2018-07-29    41183.                   NA                 NA               NA
    ## 10 2018-08-05    36598.                   NA                 NA               NA
    ## # … with 81 more rows, and 2 more variables:
    ## #   sessions_/p/jumpstart-with-r/ <dbl>, sessions_/p/learning-labs-pro <dbl>

## Inspecting missing data

``` r
transactions_product_page_sessions_weekly_tbl %>% 
  plot_missing()
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-7-1.png" width="672" />
**Observations**: One of the things that we can notice is that there are some product pages that has more missing data.

## Visualizing the joined dataset

``` r
transactions_product_page_sessions_weekly_tbl %>% 
  pivot_longer(contains("session")) %>% 
  group_by(name) %>% 
  plot_time_series(.date_var = purchased_at, .value = value, name, .interactive = F, .facet_ncol = 2)
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-8-1.png" width="672" />
**Observations**: It looks like some of the products were very recently introduced to the website, which might be the reason we are observing missing data in our visualization above.

## Taking subset of the original data with more observations

``` r
transactions_product_page_subset_tbl <- transactions_product_page_sessions_weekly_tbl %>% 
  select(-contains("bundle"),  -ends_with("with-r/"))

transactions_product_page_subset_tbl
```

    ## # A tibble: 91 × 5
    ##    purchased_at revenue `sessions_/p/ds4b-… `sessions_/p/jump… `sessions_/p/lea…
    ##    <date>         <dbl>               <dbl>              <dbl>             <dbl>
    ##  1 2018-06-03    32736.                  NA                 NA                NA
    ##  2 2018-06-10    38290.                  NA                 NA                NA
    ##  3 2018-06-17    39974.                  NA                 NA                NA
    ##  4 2018-06-24    35622.                  NA                 NA                NA
    ##  5 2018-07-01    28984.                  NA                 NA                NA
    ##  6 2018-07-08    47251.                  NA                 NA                NA
    ##  7 2018-07-15    31512.                  NA                 NA                NA
    ##  8 2018-07-22    50986.                  NA                 NA                NA
    ##  9 2018-07-29    41183.                  NA                 NA                NA
    ## 10 2018-08-05    36598.                  NA                 NA                NA
    ## # … with 81 more rows

## Transforming our data

``` r
log_standardized_transactions_product_page_tbl <-  transactions_product_page_subset_tbl %>% 
  drop_na() %>% 
  mutate(across(-purchased_at, .fns = log1p)) %>% 
  mutate(across(-purchased_at, .fns = standardize_vec))

log_standardized_transactions_product_page_tbl
```

    ## # A tibble: 43 × 5
    ##    purchased_at revenue `sessions_/p/ds4b-… `sessions_/p/jump… `sessions_/p/lea…
    ##    <date>         <dbl>               <dbl>              <dbl>             <dbl>
    ##  1 2019-05-05    -1.87              -3.08               1.33             -0.341 
    ##  2 2019-05-12    -0.616             -1.88               0.738            -1.92  
    ##  3 2019-05-19    -2.02              -1.82               0.385            -0.0607
    ##  4 2019-05-26     0.802              0.200              0.142            -0.918 
    ##  5 2019-06-02     0.728              0.388              0.0682           -0.734 
    ##  6 2019-06-09     1.72              -0.110             -0.343            -1.97  
    ##  7 2019-06-16    -1.06               1.77              -0.305            -1.06  
    ##  8 2019-06-23     0.571              0.565             -0.525            -2.51  
    ##  9 2019-06-30    -0.694             -0.0737            -0.849             0.537 
    ## 10 2019-07-07    -0.241              0.887             -0.701            -1.19  
    ## # … with 33 more rows

## Visualizing Cross Correlation Diagnostics

``` r
log_standardized_transactions_product_page_tbl %>% 
  plot_acf_diagnostics(purchased_at, revenue,
                       .ccf_vars = contains("session"),
                       .facet_ncol = 2,
                       .interactive = F)
```

<img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-11-1.png" width="672" />

## Without ACF

``` r
log_standardized_transactions_product_page_tbl %>% 
  plot_acf_diagnostics(purchased_at, revenue, .ccf_vars = contains("sessions"), .show_ccf_vars_only = T)
```

<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"data":[{"x":[-2.1,44.1],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-2.1,44.1],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[-2.1,44.1],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"visible":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null},{"visible":false,"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","mode":"","frame":null},{"visible":false,"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","mode":"","frame":null},{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],"y":[0.353076863873552,0.27580850407136,0.285139327907994,-0.172129803178955,-0.101281058504258,0.0656430937416462,0.0987912807532141,-0.192988849365751,-0.0107186648048056,0.0717793342355269,0.103038925190239,0.136003373622889,0.0178889228523588,-0.138003499814901,0.0657436115644975,0.00227050668090941,-0.0152054477903883,0.0986949207623005,0.169558603149936,0.0812546785049637,0.134418336078289,0.127385798704951,0.0686237451374458,-0.00536170820245138,-0.259236975264005,-0.354381393868669,-0.0408663824934948,-0.0578496363072006,-0.169819550417833,-0.100869411264531,-0.0706799348793615,0.0170045693230691,-0.00172219593093708,-0.0462796088086605,-0.027756348966849,-0.000684907348427488,-0.0239978215488124,-0.0577751428691967,-0.0225336286446486,0.016679674926413,0.00856233443202499,-0.0625022004809324,-0.062677099132453],"text":["lag:  0<br />value:  0.3530768639<br />name: #2c3e50","lag:  1<br />value:  0.2758085041<br />name: #2c3e50","lag:  2<br />value:  0.2851393279<br />name: #2c3e50","lag:  3<br />value: -0.1721298032<br />name: #2c3e50","lag:  4<br />value: -0.1012810585<br />name: #2c3e50","lag:  5<br />value:  0.0656430937<br />name: #2c3e50","lag:  6<br />value:  0.0987912808<br />name: #2c3e50","lag:  7<br />value: -0.1929888494<br />name: #2c3e50","lag:  8<br />value: -0.0107186648<br />name: #2c3e50","lag:  9<br />value:  0.0717793342<br />name: #2c3e50","lag: 10<br />value:  0.1030389252<br />name: #2c3e50","lag: 11<br />value:  0.1360033736<br />name: #2c3e50","lag: 12<br />value:  0.0178889229<br />name: #2c3e50","lag: 13<br />value: -0.1380034998<br />name: #2c3e50","lag: 14<br />value:  0.0657436116<br />name: #2c3e50","lag: 15<br />value:  0.0022705067<br />name: #2c3e50","lag: 16<br />value: -0.0152054478<br />name: #2c3e50","lag: 17<br />value:  0.0986949208<br />name: #2c3e50","lag: 18<br />value:  0.1695586031<br />name: #2c3e50","lag: 19<br />value:  0.0812546785<br />name: #2c3e50","lag: 20<br />value:  0.1344183361<br />name: #2c3e50","lag: 21<br />value:  0.1273857987<br />name: #2c3e50","lag: 22<br />value:  0.0686237451<br />name: #2c3e50","lag: 23<br />value: -0.0053617082<br />name: #2c3e50","lag: 24<br />value: -0.2592369753<br />name: #2c3e50","lag: 25<br />value: -0.3543813939<br />name: #2c3e50","lag: 26<br />value: -0.0408663825<br />name: #2c3e50","lag: 27<br />value: -0.0578496363<br />name: #2c3e50","lag: 28<br />value: -0.1698195504<br />name: #2c3e50","lag: 29<br />value: -0.1008694113<br />name: #2c3e50","lag: 30<br />value: -0.0706799349<br />name: #2c3e50","lag: 31<br />value:  0.0170045693<br />name: #2c3e50","lag: 32<br />value: -0.0017221959<br />name: #2c3e50","lag: 33<br />value: -0.0462796088<br />name: #2c3e50","lag: 34<br />value: -0.0277563490<br />name: #2c3e50","lag: 35<br />value: -0.0006849073<br />name: #2c3e50","lag: 36<br />value: -0.0239978215<br />name: #2c3e50","lag: 37<br />value: -0.0577751429<br />name: #2c3e50","lag: 38<br />value: -0.0225336286<br />name: #2c3e50","lag: 39<br />value:  0.0166796749<br />name: #2c3e50","lag: 40<br />value:  0.0085623344<br />name: #2c3e50","lag: 41<br />value: -0.0625022005<br />name: #2c3e50","lag: 42<br />value: -0.0626770991<br />name: #2c3e50"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(44,62,80,1)","opacity":1,"size":3.77952755905512,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)"}},"frame":null},{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],"y":[-0.271315013591217,-0.0569729486866381,0.0483576303455388,0.11160092396383,0.0726737993826477,0.0478588914202108,0.0810989020789679,0.218376417926497,0.209110543873398,0.186242116282913,0.175731960076738,0.0597879590579451,-0.0941602737195018,-0.0694593482664742,-0.0260675153227748,-0.0489500387815766,-0.194611090066167,-0.154637630939871,-0.144745345165991,-0.105042620341116,-0.0408648151791584,-0.0727569315899904,-0.0642005454192785,0.0482668495756639,0.06702158305466,0.0461146729365477,0.0609398047850228,0.032394686230978,0.00548683130922917,0.0448230328745794,-0.00269990521278531,-0.0556980766563731,0.00396051682702225,0.00491556126342852,-0.0146662039062874,0.00949969418119484,0.00453925660555966,0.0115248756176166,0.0238886329266972,-0.00420606475970772,-0.0124056819993476,0.0254415630851663,0.0270393970064732],"text":["lag:  0<br />value: -0.2713150136<br />name: #2c3e50","lag:  1<br />value: -0.0569729487<br />name: #2c3e50","lag:  2<br />value:  0.0483576303<br />name: #2c3e50","lag:  3<br />value:  0.1116009240<br />name: #2c3e50","lag:  4<br />value:  0.0726737994<br />name: #2c3e50","lag:  5<br />value:  0.0478588914<br />name: #2c3e50","lag:  6<br />value:  0.0810989021<br />name: #2c3e50","lag:  7<br />value:  0.2183764179<br />name: #2c3e50","lag:  8<br />value:  0.2091105439<br />name: #2c3e50","lag:  9<br />value:  0.1862421163<br />name: #2c3e50","lag: 10<br />value:  0.1757319601<br />name: #2c3e50","lag: 11<br />value:  0.0597879591<br />name: #2c3e50","lag: 12<br />value: -0.0941602737<br />name: #2c3e50","lag: 13<br />value: -0.0694593483<br />name: #2c3e50","lag: 14<br />value: -0.0260675153<br />name: #2c3e50","lag: 15<br />value: -0.0489500388<br />name: #2c3e50","lag: 16<br />value: -0.1946110901<br />name: #2c3e50","lag: 17<br />value: -0.1546376309<br />name: #2c3e50","lag: 18<br />value: -0.1447453452<br />name: #2c3e50","lag: 19<br />value: -0.1050426203<br />name: #2c3e50","lag: 20<br />value: -0.0408648152<br />name: #2c3e50","lag: 21<br />value: -0.0727569316<br />name: #2c3e50","lag: 22<br />value: -0.0642005454<br />name: #2c3e50","lag: 23<br />value:  0.0482668496<br />name: #2c3e50","lag: 24<br />value:  0.0670215831<br />name: #2c3e50","lag: 25<br />value:  0.0461146729<br />name: #2c3e50","lag: 26<br />value:  0.0609398048<br />name: #2c3e50","lag: 27<br />value:  0.0323946862<br />name: #2c3e50","lag: 28<br />value:  0.0054868313<br />name: #2c3e50","lag: 29<br />value:  0.0448230329<br />name: #2c3e50","lag: 30<br />value: -0.0026999052<br />name: #2c3e50","lag: 31<br />value: -0.0556980767<br />name: #2c3e50","lag: 32<br />value:  0.0039605168<br />name: #2c3e50","lag: 33<br />value:  0.0049155613<br />name: #2c3e50","lag: 34<br />value: -0.0146662039<br />name: #2c3e50","lag: 35<br />value:  0.0094996942<br />name: #2c3e50","lag: 36<br />value:  0.0045392566<br />name: #2c3e50","lag: 37<br />value:  0.0115248756<br />name: #2c3e50","lag: 38<br />value:  0.0238886329<br />name: #2c3e50","lag: 39<br />value: -0.0042060648<br />name: #2c3e50","lag: 40<br />value: -0.0124056820<br />name: #2c3e50","lag: 41<br />value:  0.0254415631<br />name: #2c3e50","lag: 42<br />value:  0.0270393970<br />name: #2c3e50"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(44,62,80,1)","opacity":1,"size":3.77952755905512,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)"}},"frame":null},{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],"y":[-0.0140531693448711,0.309076855202567,0.0511715915922125,0.282529580883916,0.0874777626554541,0.426993442396657,0.174065956082109,0.22743705449874,0.028243722520261,0.188589073142724,0.0982350072712782,0.177609182249516,-0.0451875141927983,0.026788956779018,0.0869054747230411,0.145507099832347,0.0464600597232782,0.0102109431661322,-0.126052105531278,-0.125324662847483,-0.172655729669342,-0.136392364031795,-0.0946962021595846,-0.218052066257962,-0.245813432249823,-0.19063698623043,-0.101865270564683,-0.031573074266474,-0.0842285130468907,-0.141500374129361,-0.0328424080081277,-0.0424231501307755,-0.0778994737769419,-0.0164628498690372,-0.0243072912279927,-0.0497736021507874,-0.0347450587540465,-0.067738903964496,-0.034103603464821,0.0174174868319817,-0.00962229315846481,-0.0418600401189102,-0.0069413759913923],"text":["lag:  0<br />value: -0.0140531693<br />name: #2c3e50","lag:  1<br />value:  0.3090768552<br />name: #2c3e50","lag:  2<br />value:  0.0511715916<br />name: #2c3e50","lag:  3<br />value:  0.2825295809<br />name: #2c3e50","lag:  4<br />value:  0.0874777627<br />name: #2c3e50","lag:  5<br />value:  0.4269934424<br />name: #2c3e50","lag:  6<br />value:  0.1740659561<br />name: #2c3e50","lag:  7<br />value:  0.2274370545<br />name: #2c3e50","lag:  8<br />value:  0.0282437225<br />name: #2c3e50","lag:  9<br />value:  0.1885890731<br />name: #2c3e50","lag: 10<br />value:  0.0982350073<br />name: #2c3e50","lag: 11<br />value:  0.1776091822<br />name: #2c3e50","lag: 12<br />value: -0.0451875142<br />name: #2c3e50","lag: 13<br />value:  0.0267889568<br />name: #2c3e50","lag: 14<br />value:  0.0869054747<br />name: #2c3e50","lag: 15<br />value:  0.1455070998<br />name: #2c3e50","lag: 16<br />value:  0.0464600597<br />name: #2c3e50","lag: 17<br />value:  0.0102109432<br />name: #2c3e50","lag: 18<br />value: -0.1260521055<br />name: #2c3e50","lag: 19<br />value: -0.1253246628<br />name: #2c3e50","lag: 20<br />value: -0.1726557297<br />name: #2c3e50","lag: 21<br />value: -0.1363923640<br />name: #2c3e50","lag: 22<br />value: -0.0946962022<br />name: #2c3e50","lag: 23<br />value: -0.2180520663<br />name: #2c3e50","lag: 24<br />value: -0.2458134322<br />name: #2c3e50","lag: 25<br />value: -0.1906369862<br />name: #2c3e50","lag: 26<br />value: -0.1018652706<br />name: #2c3e50","lag: 27<br />value: -0.0315730743<br />name: #2c3e50","lag: 28<br />value: -0.0842285130<br />name: #2c3e50","lag: 29<br />value: -0.1415003741<br />name: #2c3e50","lag: 30<br />value: -0.0328424080<br />name: #2c3e50","lag: 31<br />value: -0.0424231501<br />name: #2c3e50","lag: 32<br />value: -0.0778994738<br />name: #2c3e50","lag: 33<br />value: -0.0164628499<br />name: #2c3e50","lag: 34<br />value: -0.0243072912<br />name: #2c3e50","lag: 35<br />value: -0.0497736022<br />name: #2c3e50","lag: 36<br />value: -0.0347450588<br />name: #2c3e50","lag: 37<br />value: -0.0677389040<br />name: #2c3e50","lag: 38<br />value: -0.0341036035<br />name: #2c3e50","lag: 39<br />value:  0.0174174868<br />name: #2c3e50","lag: 40<br />value: -0.0096222932<br />name: #2c3e50","lag: 41<br />value: -0.0418600401<br />name: #2c3e50","lag: 42<br />value: -0.0069413760<br />name: #2c3e50"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(44,62,80,1)","opacity":1,"size":3.77952755905512,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)"}},"frame":null}],"layout":{"margin":{"t":55.4520547945205,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187},"title":{"text":"Lag Diagnostics","font":{"color":"rgba(44,62,80,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[-2.1,44.1],"tickmode":"auto","ticktext":["0","10","20","30","40"],"tickvals":[0,10,20,30,40],"categoryorder":"array","categoryarray":["0","10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"annotations":[{"text":"Lag","x":0.5,"y":-0.0471841704718417,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis"},{"text":"Correlation","x":-0.0510980647966949,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"CCF_sessions_/p/ds4b-101-r-business-analysis-r","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"CCF_sessions_/p/jumpstart-with-r","x":0.5,"y":0.583258428312899,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"CCF_sessions_/p/learning-labs-pro","x":0.5,"y":0.249925094979566,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.750074905020434,1],"automargin":true,"type":"linear","autorange":true,"range":[-0.393450135681936,0.466062184209923],"tickmode":"auto","ticktext":["-0.2","0.0","0.2","0.4"],"tickvals":[-0.2,0,0.2,0.4],"categoryorder":"array","categoryarray":["-0.2","0.0","0.2","0.4"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.750074905020434,"y1":1},{"type":"rect","fillcolor":"rgba(44,62,80,1)","line":{"color":"rgba(44,62,80,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":24.9730178497302,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.416741571687101,"y1":0.583258428312899},{"type":"rect","fillcolor":"rgba(44,62,80,1)","line":{"color":"rgba(44,62,80,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":24.9730178497302,"yanchor":0.583258428312899,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.249925094979566},{"type":"rect","fillcolor":"rgba(44,62,80,1)","line":{"color":"rgba(44,62,80,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":24.9730178497302,"yanchor":0.249925094979566,"ysizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":true,"range":[-0.393450135681936,0.466062184209923],"tickmode":"auto","ticktext":["-0.2","0.0","0.2","0.4"],"tickvals":[-0.2,0,0.2,0.4],"categoryorder":"array","categoryarray":["-0.2","0.0","0.2","0.4"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.416741571687101,0.583258428312899],"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":true,"range":[-0.393450135681936,0.466062184209923],"tickmode":"auto","ticktext":["-0.2","0.0","0.2","0.4"],"tickvals":[-0.2,0,0.2,0.4],"categoryorder":"array","categoryarray":["-0.2","0.0","0.2","0.4"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.249925094979566],"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"dcfc83f5b52":{"yintercept":{},"type":"scatter"},"dcfc778468b8":{"y":{}},"dcfc15f74555":{"x":{},"y":{},"colour":{}},"dcfc1ce8dab7":{"x":{},"y":{},"colour":{}}},"cur_data":"dcfc83f5b52","visdat":{"dcfc83f5b52":["function (y) ","x"],"dcfc778468b8":["function (y) ","x"],"dcfc15f74555":["function (y) ","x"],"dcfc1ce8dab7":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
