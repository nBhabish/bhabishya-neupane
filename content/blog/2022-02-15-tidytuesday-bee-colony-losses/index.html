---
title: '#TidyTuesday: Bee Colony Losses'
author: Bhabishya Neupane
date: '2022-02-15'
excerpt: Visualizing Bee Colony Losses in the United States between 2015 and 2021
slug: []
categories:
  - ggplot2
  - tidyverse
tags: []
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<pre class="r"><code>knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)</code></pre>
<div id="libraries" class="section level3">
<h3>Libraries</h3>
<pre class="r"><code>library(tidyverse)
library(nationalparkcolors)
library(paletteer)
library(tidytuesdayR)
library(extrafontdb)
library(showtextdb)
library(extrafont)
library(showtext)
showtext_auto()
theme_set(theme_minimal())
font_add_google(&quot;BenchNine&quot;, family = &quot;BenchNine&quot;)</code></pre>
</div>
<div id="data" class="section level3">
<h3>Data</h3>
<pre class="r"><code># Data --------------------------------------------------------------------
colony &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-01-11/colony.csv&#39;)
stressor &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-01-11/stressor.csv&#39;)</code></pre>
</div>
<div id="exploratory-data-analysis" class="section level3">
<h3>Exploratory Data Analysis</h3>
<div id="states-with-highest-bee-losses-2015-2021" class="section level4">
<h4>States with Highest Bee Losses, 2015-2021</h4>
<pre class="r"><code>max_colony_lost &lt;- colony %&gt;% 
  group_by(state) %&gt;% 
  summarize(colony_lost = sum(colony_lost, na.rm = T)) %&gt;% 
  arrange(desc(colony_lost)) %&gt;% 
  slice(-1) %&gt;% 
  slice(1:10) %&gt;% 
  pull(state)

colony %&gt;% 
  filter(state %in% max_colony_lost) %&gt;% 
  mutate(months = fct_relevel(months, &quot;January-March&quot;)) %&gt;% 
  ggplot(aes(months, colony_lost, fill = months))+
  geom_col()+
  scale_y_continuous(labels = scales::comma_format())+
  theme_minimal()+
  theme(text = element_text(family = &quot;BenchNine&quot;),
        axis.text.x = element_blank(), 
        legend.position = &quot;bottom&quot;,
        plot.title = element_text(size = 20))+
  scale_fill_paletteer_d(&quot;nationalparkcolors::Yosemite&quot;)+
  facet_wrap(~state, scales = &quot;free_y&quot;)+
  labs(title = &quot;Top 10 states w/ Highest Colonies Loss by Months, 2015-2021&quot;, 
       subtitle = &quot;California leads the run for highest colonies loss among all of the states&quot;,
       y = &quot;# of colonies lost&quot;, 
       x = &quot;&quot;, fill = &quot;Months&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-4-1.png" width="100%" height="100%" /></p>
</div>
<div id="states-with-highest-bee-colonies-renovated" class="section level4">
<h4>States with Highest Bee Colonies Renovated</h4>
<pre class="r"><code>max_colony_reno &lt;- colony %&gt;% 
  group_by(state) %&gt;% 
  summarise(colony_reno = sum(colony_reno, na.rm = TRUE)) %&gt;% 
  arrange(desc(colony_reno)) %&gt;% 
  slice(-1) %&gt;% 
  slice(1:10) %&gt;% 
  pull(state)

colony %&gt;% 
  filter(state %in% max_colony_reno) %&gt;% 
  mutate(months = fct_relevel(months, &quot;January-March&quot;)) %&gt;% 
  ggplot(aes(months, colony_reno, fill = months))+
  geom_col()+
  scale_y_continuous(labels = scales::comma_format())+
  theme_minimal()+
  theme(text = element_text(family = &quot;BenchNine&quot;),
        axis.text.x = element_blank(), 
        legend.position = &quot;bottom&quot;,
        plot.title = element_text(size = 20))+
  scale_fill_paletteer_d(&quot;nationalparkcolors::Yosemite&quot;)+
  facet_wrap(~state, scales = &quot;free_y&quot;)+
  labs(title = &quot;Top 10 states w/ Highest Colonies Renovated by Months, 2015-2021&quot;, 
       subtitle = &quot;California leads the run for highest colonies renovated among all of the states&quot;,
       y = &quot;# of colonies renovated&quot;, 
       x = &quot;&quot;, fill = &quot;Months&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="states-with-highest-bee-colonies-added" class="section level4">
<h4>States with Highest Bee Colonies Added</h4>
<pre class="r"><code>max_colony_added &lt;- colony %&gt;% 
  group_by(state) %&gt;% 
  summarise(colony_added = sum(colony_added, na.rm = TRUE)) %&gt;% 
  arrange(desc(colony_added)) %&gt;% 
  slice(-1) %&gt;% 
  slice(1:10) %&gt;% 
  pull(state)

colony %&gt;% 
  filter(state %in% max_colony_added) %&gt;% 
  mutate(months = fct_relevel(months, &quot;January-March&quot;)) %&gt;% 
  ggplot(aes(months, colony_added, fill = months))+
  geom_col()+
  scale_y_continuous(labels = scales::comma_format())+
  theme_minimal()+
  theme(text = element_text(family = &quot;BenchNine&quot;),
        axis.text.x = element_blank(), 
        legend.position = &quot;bottom&quot;,
        plot.title = element_text(size = 20))+
  scale_fill_paletteer_d(&quot;nationalparkcolors::Yosemite&quot;)+
  facet_wrap(~state, scales = &quot;free_y&quot;)+
  labs(title = &quot;Top 10 states w/ Highest Colonies Added by Months, 2015-2021&quot;, 
       subtitle = &quot;California leads the run for highest colonies added among all of the states&quot;,
       y = &quot;# of colonies added&quot;, 
       x = &quot;&quot;, fill = &quot;Months&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Takeaways:</p>
<ul>
<li><p>California definitely leads some major categories when it comes to bees. It might have to do with wonderful weather over there. Florida comes second in the standing but there’s a decent margin between California and Florida when it comes to colonies renovated, added, and lost.</p></li>
<li><p>It doesn’t look like there’s one particular month where the states lose, add, or renovate bee colonies. It really seems to depend on the states.</p></li>
</ul>
</div>
</div>
<div id="focusing-on-california" class="section level3">
<h3>Focusing on California</h3>
<p>Let’s focus on California and see what other trends and patterns can be observed and generalized. My initial assumption is we might see some bee colonies added the same month, if not the following months after losing bee colonies.</p>
<pre class="r"><code>colony %&gt;%
  filter(state == &quot;California&quot;) %&gt;%
  mutate(months = months %&gt;% fct_relevel(&quot;January-March&quot;)) %&gt;% 
  ggplot(aes(colony_added, colony_lost, color = months)) +
  geom_point() +
  scale_y_continuous(labels = scales::comma_format()) +
  scale_x_continuous(labels = scales::comma_format()) +
  theme_minimal() +
  theme(
    text = element_text(family = &quot;BenchNine&quot;),
    legend.position = &quot;bottom&quot;,
    plot.title = element_text(size = 20)
  ) +
  scale_color_paletteer_d(&quot;nationalparkcolors::Badlands&quot;)+
  labs(x = &quot;# of colonies added&quot;, 
       y = &quot;# of colonies lost&quot;,
       title = &quot;Colonies Added vs Colonies Lost in the California&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>It looks like California loses a lot of its bee colonies between January and March, but it also adds a lot during that same window. July-September sees a lot less bee colonies being lost and added. It is very difficult to generalize the idea that there is some relationship between when colonies are lost and when colonies are added. April-June sees a lot more colonies being added compared to colonies being lost.</p>
</div>
